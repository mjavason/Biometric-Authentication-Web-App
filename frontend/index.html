<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Biometric Authentication</title>
  </head>
  <body>
    <h1>Biometric App Test</h1>
    <script>
      async function createCredential() {
        try {
          const publicKeyCredentialCreationOptions = {
            challenge: new Uint8Array(32), // Should be replaced with a real challenge from your server
            rp: {
              name: 'Biometric Web App',
              id: 'biometric-authentication-web-app.onrender.com',
            },
            pubKeyCredParams: [
              { alg: -7, type: 'public-key' }, // ES256: ECDSA with SHA-256
              { alg: -257, type: 'public-key' }, // RS256: RSASSA-PKCS1-v1_5 with SHA-256
              // Add more algorithms as needed
            ],
            user: {
              id: Uint8Array.from('UZSL85T9AFC', (c) => c.charCodeAt(0)),
              name: 'lee@webauthn.guide',
              displayName: 'Lee',
            },
            authenticatorSelection: {
              // authenticatorAttachment: 'platform',
              userVerification: 'required',
            },
            timeout: 60000,
            attestation: 'direct',
          };

          const credential = await navigator.credentials.create({
            publicKey: publicKeyCredentialCreationOptions,
          });

          console.log(credential);
          window.alert('Logged in successfully ✔✔✔');
        } catch (e) {
          window.alert(e.message);
        }
      }

      createCredential();
    </script>
  </body>
</html>
